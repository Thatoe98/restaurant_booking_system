<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book a Table - Creator Restaurant</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <!-- Language Toggle -->
    <div class="language-toggle">
      <button class="lang-btn active" data-lang="en">EN</button>
      <button class="lang-btn" data-lang="my">á€™á€¼á€”á€ºá€™á€¬</button>
    </div>
    
    <!-- Header -->
    <header class="header">
      <a href="/" class="logo" data-i18n="customer.header">ğŸ½ï¸ Creator Restaurant</a>
      <span class="header-subtitle" data-i18n="customer.subtitle">Table Reservation</span>
    </header>

    <!-- Progress Steps -->
    <div class="progress-bar">
      <div class="step active" data-step="1">
        <span class="step-number">1</span>
        <span class="step-label" data-i18n="customer.step1">Date</span>
      </div>
      <div class="step" data-step="2">
        <span class="step-number">2</span>
        <span class="step-label" data-i18n="customer.step2">Time & Table</span>
      </div>
      <div class="step" data-step="3">
        <span class="step-number">3</span>
        <span class="step-label" data-i18n="customer.step3">Details</span>
      </div>
      <div class="step" data-step="4">
        <span class="step-number">4</span>
        <span class="step-label" data-i18n="customer.step4">Confirm</span>
      </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Step 1: Date Selection -->
      <section class="form-step active" id="step-1">
        <h2 data-i18n="customer.selectDate">Select a Date</h2>
        <p class="step-description" data-i18n="customer.selectDateDesc">Choose when you'd like to dine with us</p>
        
        <div class="quick-date-buttons">
          <button type="button" class="quick-date-btn" data-offset="0">
            <span class="quick-date-icon">ğŸ“…</span>
            <span class="quick-date-label" data-i18n="customer.today">Today</span>
          </button>
          <button type="button" class="quick-date-btn" data-offset="1">
            <span class="quick-date-icon">ğŸŒ…</span>
            <span class="quick-date-label" data-i18n="customer.tomorrow">Tomorrow</span>
          </button>
        </div>
        
        <div class="date-picker-container">
          <input type="date" id="booking-date" class="date-input">
        </div>
        
        <div class="party-size-container">
          <label for="party-size" data-i18n="customer.guests">Number of Guests</label>
          <div class="party-size-selector">
            <button type="button" class="party-btn" data-action="decrease">âˆ’</button>
            <span id="party-size-display">2</span>
            <button type="button" class="party-btn" data-action="increase">+</button>
          </div>
          <input type="hidden" id="party-size" value="2">
        </div>
        
        <button class="btn btn-primary btn-next" data-next="2" data-i18n="customer.continue">Continue</button>
      </section>

      <!-- Step 2: Time & Table Selection (Combined) -->
      <section class="form-step" id="step-2">
        <h2 data-i18n="customer.selectTime">Select Time & Table</h2>
        <p class="step-description"><span data-i18n="customer.selectTimeDesc">Choose your preferred time for</span> <span id="selected-date-display"></span></p>
        
        <div class="time-table-container">
          <!-- Left: Time Selection -->
          <div class="time-section">
            <h3 data-i18n="customer.selectTimeLabel">Select Time</h3>
            <div class="time-slots-container" id="time-slots">
              <!-- Time slots will be generated here -->
            </div>
          </div>
          
          <!-- Right: Table Selection (appears after time selected) -->
          <div class="table-section" id="table-section">
            <div class="table-placeholder" id="table-placeholder">
              <span class="placeholder-icon">ğŸ‘ˆ</span>
              <p data-i18n="customer.selectTimeFirst">Select a time slot first</p>
            </div>
            <div class="table-content" id="table-content" style="display: none;">
              <div class="table-header">
                <h3 data-i18n="customer.selectTableLabel">Select Table</h3>
                <div class="table-filters">
                  <button class="filter-btn active" data-filter="all" data-i18n="customer.filterAll">All</button>
                  <button class="filter-btn" data-filter="Garden View" data-i18n="customer.filterGarden">ğŸŒ¿ Garden</button>
                  <button class="filter-btn" data-filter="Smoking Area" data-i18n="customer.filterSmoking">ğŸš¬ Smoking</button>
                  <button class="filter-btn" data-filter="VIP" data-i18n="customer.filterVIP">â­ VIP</button>
                  <button class="filter-btn" data-filter="Window Seat" data-i18n="customer.filterWindow">ğŸªŸ Window</button>
                </div>
              </div>
              <div class="table-legend">
                <span class="legend-item"><span class="dot available"></span> <span data-i18n="customer.legendAvailable">Available</span></span>
                <span class="legend-item"><span class="dot booked"></span> <span data-i18n="customer.legendBooked">Booked</span></span>
              </div>
              <div class="tables-grid" id="tables-grid">
                <!-- Tables will be generated here -->
              </div>
              <div class="selected-table-info" id="selected-table-info" style="display: none;">
                <h3>âœ“ <span data-i18n="customer.selectedTable">Table</span> <span id="selected-table-number"></span></h3>
                <p><span id="selected-table-capacity"></span> <span data-i18n="customer.guests">guests</span> â€¢ <span id="selected-table-properties"></span></p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="nav-buttons">
          <button class="btn btn-secondary btn-back" data-back="1" data-i18n="customer.back">Back</button>
          <button class="btn btn-primary btn-next" data-next="3" disabled data-i18n="customer.continue">Continue</button>
        </div>
      </section>

      <!-- Step 3: Customer Details -->
      <section class="form-step" id="step-3">
        <h2 data-i18n="customer.yourDetails">Your Details</h2>
        <p class="step-description" data-i18n="customer.yourDetailsDesc">Please provide your contact information</p>
        
        <form id="customer-form" class="customer-form">
          <div class="form-group">
            <label for="customer-name" data-i18n="customer.fullName">Full Name *</label>
            <input type="text" id="customer-name" required data-i18n="customer.fullNamePlaceholder" placeholder="Enter your name">
          </div>
          
          <div class="form-group">
            <label for="customer-email" data-i18n="customer.email">Email Address *</label>
            <input type="email" id="customer-email" required data-i18n="customer.emailPlaceholder" placeholder="your@email.com">
          </div>
          
          <div class="form-group">
            <label for="customer-phone" data-i18n="customer.phone">Phone Number *</label>
            <input type="tel" id="customer-phone" required data-i18n="customer.phonePlaceholder" placeholder="+95 9 xxx xxx xxx">
          </div>
          
          <div class="form-group">
            <label for="special-requests" data-i18n="customer.specialRequests">Special Requests (optional)</label>
            <textarea id="special-requests" rows="3" data-i18n="customer.specialRequestsPlaceholder" placeholder="Any dietary requirements, celebrations, etc."></textarea>
          </div>
        </form>
        
        <div class="nav-buttons">
          <button class="btn btn-secondary btn-back" data-back="2" data-i18n="customer.back">Back</button>
          <button class="btn btn-primary btn-next" data-next="4" data-i18n="customer.reviewBooking">Review Booking</button>
        </div>
      </section>

      <!-- Step 4: Confirmation -->
      <section class="form-step" id="step-4">
        <div id="booking-review" style="display: block;">
          <h2 data-i18n="customer.reviewBooking">Review Your Booking</h2>
          <p class="step-description" data-i18n="customer.reviewDesc">Please confirm your reservation details</p>
          
          <div class="booking-summary">
            <div class="summary-item">
              <span class="summary-label" data-i18n="customer.summaryDate">ğŸ“… Date</span>
              <span class="summary-value" id="summary-date"></span>
            </div>
            <div class="summary-item">
              <span class="summary-label" data-i18n="customer.summaryTime">ğŸ• Time</span>
              <span class="summary-value" id="summary-time"></span>
            </div>
            <div class="summary-item">
              <span class="summary-label" data-i18n="customer.summaryParty">ğŸ‘¥ Guests</span>
              <span class="summary-value" id="summary-party"></span>
            </div>
            <div class="summary-item">
              <span class="summary-label" data-i18n="customer.summaryTable">ğŸª‘ Table</span>
              <span class="summary-value" id="summary-table"></span>
            </div>
            <div class="summary-item">
              <span class="summary-label" data-i18n="customer.summaryName">ğŸ‘¤ Name</span>
              <span class="summary-value" id="summary-name"></span>
            </div>
            <div class="summary-item">
              <span class="summary-label" data-i18n="customer.summaryEmail">ğŸ“§ Email</span>
              <span class="summary-value" id="summary-email"></span>
            </div>
            <div class="summary-item">
              <span class="summary-label" data-i18n="customer.summaryPhone">ğŸ“± Phone</span>
              <span class="summary-value" id="summary-phone"></span>
            </div>
            <div class="summary-item" id="summary-requests-container" style="display: none;">
              <span class="summary-label" data-i18n="customer.summaryRequests">ğŸ“ Requests</span>
              <span class="summary-value" id="summary-requests"></span>
            </div>
          </div>
          
          <div class="nav-buttons">
            <button class="btn btn-secondary btn-back" data-back="3" data-i18n="customer.back">Back</button>
            <button class="btn btn-primary btn-confirm" id="confirm-booking" data-i18n="customer.confirmButton">Confirm Booking</button>
          </div>
        </div>
        
        <div id="booking-success" style="display: none;">
          <div class="success-icon">âœ…</div>
          <h2 data-i18n="customer.successTitle">Booking Confirmed!</h2>
          <p class="step-description" data-i18n="customer.successDesc">Your table has been reserved</p>
          
          <div class="booking-code-container">
            <p data-i18n="customer.bookingCode">Your Booking Code</p>
            <div class="booking-code" id="booking-code"></div>
            <button class="btn btn-secondary btn-copy" id="copy-code" data-i18n="customer.copyCode">ğŸ“‹ Copy Code</button>
          </div>
          
          <div class="booking-summary" id="final-summary">
            <!-- Will be populated -->
          </div>
          
          <p class="confirmation-note" data-i18n="customer.confirmationNote">
            A confirmation email has been sent to your email address.<br>
            Please arrive 5 minutes early and show your booking code at the entrance.
          </p>
          
          <a href="/" class="btn btn-primary" data-i18n="customer.backToHome">Back to Home</a>
        </div>
      </section>
    </main>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading" style="display: none;">
      <div class="spinner"></div>
      <p data-i18n="customer.loading">Processing your booking...</p>
    </div>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>
